
@model VMS.Models.VisitorVisit

@{
    ViewBag.Title = "LastPage";
    Layout = "~/Views/Shared/_Layout.cshtml";
}







<header>

    <!--RevSlider-->
    <div class="tp-banner-container">
        <div class="tp-banner">
            <ul>
                <!-- SLIDE  -->
                <li data-transition="fade">
                    <!-- MAIN IMAGE -->
                    <img src="~/Content/img/transparent.png" alt="slidebg1" data-bgfit="cover" data-bgposition="left top" data-bgrepeat="no-repeat">
                    <!-- LAYERS -->
                    <!-- LAYER NR. 1 -->
                    <div class="tp-caption lfl fadeout hidden-xs"
                         data-x="left"
                         data-y="bottom"
                         data-hoffset="30"
                         data-voffset="0"
                         data-easing="Power4.easeOut">
                        <!--<img src="img/freeze/Slides/hand-freeze.png" alt="">-->
                    </div>
                    <div class="tp-caption lfl fadeout visible-xs"
                         data-x="left"
                         data-y="center"
                         data-hoffset="700"
                         data-voffset="0"
                         data-easing="Power4.easeOut">
                        <img src="~/Content/img/freeze/iphone-freeze.png" alt="">
                    </div>

                    <div class="tp-caption mediumlarge_light_white_center sft" data-x="0" data-y="100" data-hoffset="0" data-voffset="-100" data-speed="500" data-start="1400" data-easing="Power4.easeOut"><img src="~/Images/@ViewBag.Image" style="border-radius: 50%;" alt="slidebg1" data-bgfit="cover" data-bgrepeat="no-repeat" width="400" height="400" /></div>
                    <div class="tp-caption mediumlarge_light_white_center sft" data-x="500" data-y="100" data-hoffset="0" data-voffset="-80" data-speed="500" data-start="1400" data-easing="Power4.easeOut">
                        I am here for <span style="font-weight:bold; color : Black">@ViewBag.Purpose</span>
                    </div>
                    <div class="tp-caption mediumlarge_light_white_center sft" data-x="500" data-y="200" data-hoffset="0" data-voffset="70" data-speed="1000" data-start="1500" data-easing="Power4.easeOut">
                        My name is <span style="font-weight:bold; color : Black"> @ViewBag.FirstName  @ViewBag.LastName </span>
                    </div>
                    <div class="tp-caption mediumlarge_light_white_center sft" data-x="500" data-y="300" data-hoffset="0" data-voffset="60" data-speed="1000" data-start="1600" data-easing="Power4.easeOut">
                        I am from <span style="font-weight:bold; color : Black"> @ViewBag.Company </span>
                    </div>
                    <div class="tp-caption mediumlarge_light_white_center sfb" data-x="550" data-y="400" data-hoffset="0" data-voffset="50" data-speed="1000" data-start="1700" data-easing="Power4.easeOut">
                        &#9989;  Looks good, sign me in!!
                    </div>

                    <a id="btnsubmit" class="btn btn-primary inverse btn-lg tp-caption" data-x="500" data-y="500" data-hoffset="0" data-voffset="50" data-speed="1000" data-start="1700" data-easing="Power4.easeOut">Submit</a>


                </li>
            </ul>
        </div>
    </div>

</header>


<script>


    $(document).ready(function () {

        var btnsubmit = document.getElementById('btnsubmit');
        btnsubmit.onclick = submit;
    });


 function submit() {


        var model = JSON.stringify({
            VisitorFirstName: ' @ViewBag.FirstName',
            VisitorLastName: '@ViewBag.LastName',
            Email: '@ViewBag.Email',
            Phone: '@ViewBag.Phone',
            Company: '@ViewBag.Company',
            ImageURL: '@ViewBag.Image',
            HostEmployeeId: '@ViewBag.HostEmpId',
            EmployeeFirstName: '@ViewBag.EmpFirstName',
            EmployeeLastName: '@ViewBag.EmpLastName',
            Purpose: '@ViewBag.Purpose',
            OfficeLocation: '@ViewBag.ofcLocation'

        });


        $.ajax({
            type: 'POST',
            url: '@Url.Content("~/Home/PostVisitor")',
            contentType: 'application/json',
            data: model,
            cache: false,
            success: function () {

                alert("Successfully Saved");
                @*window.location.href = '@Url.Content("~/Home/Index")';*@
                MovetofirstPage();
            },
            failure: function (response) {
                alert("faliure");
            },
            error: function (response) {

                alert("something went wrong");

            }
        });
    }

     function MovetofirstPage() {
        var link = '@Url.Content("~/")' + '@ViewBag.ofcLocation' + '/home/index';
        window.location.href = link;
        };
   


</script>

